# =============================================================================
# HOOLSY PLATFORMS - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# Start databases with: pnpm docker:up
# Stop databases with: pnpm docker:down
# Reset (wipe data): pnpm docker:reset
#
# NOTE: .env files do NOT support variable interpolation (${VAR} syntax).
# All URLs must be written out in full.

# =============================================================================
# POSTGRESQL (Main relational data)
# =============================================================================
# Admin connection (used for migrations - connects as superuser)
ADMIN_DATABASE_CONNECTION=postgres://postgres:postgres@localhost:5432

# Service connections (used by API runtime - least privilege)
USERS_DB_URL=postgres://svc_users:change-this-svc-users@localhost:5432/users
WORKSTATION_DB_URL=postgres://svc_workstation:change-this-svc-workstation@localhost:5432/workstation
MARKETPLACE_DB_URL=postgres://svc_marketplace:change-this-svc-marketplace@localhost:5432/marketplace

# =============================================================================
# NEO4J (Graph database for subject relationships)
# =============================================================================
# Browser UI: http://localhost:7474
# Connection: bolt://localhost:7687
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=hoolsy_dev

# =============================================================================
# MONGODB (Document store for subject metadata)
# =============================================================================
MONGO_URI=mongodb://hoolsy:hoolsy_dev@localhost:27017/hoolsy_subjects?authSource=admin

# =============================================================================
# TIMESCALEDB (Time-series subject data)
# =============================================================================
# Note: Uses port 5433 to avoid conflict with main PostgreSQL
TIMESCALE_URL=postgres://hoolsy:hoolsy_dev@localhost:5433/hoolsy_subjects

# =============================================================================
# AUTH / SECURITY
# =============================================================================
JWT_SECRET=change-me-32-chars-minimum-for-production
COOKIE_SECRET=change-me-32-chars-minimum-for-production

# =============================================================================
# RUNTIME
# =============================================================================
NODE_ENV=development
PORT=3333

ACCESS_TOKEN_TTL=15m
REFRESH_TOKEN_TTL=30d

# =============================================================================
# OPTIONAL: Demo seeding
# =============================================================================
# Set to true to allow demo data seeding
SEED_DEMO_OK=false
